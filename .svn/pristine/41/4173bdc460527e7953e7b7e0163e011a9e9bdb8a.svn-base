package com.zlt.system.dao.impl;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.List;

import org.apache.commons.dbutils.handlers.BeanListHandler;

import com.zlt.system.dao.ReimTypeTabDao;
import com.zlt.system.entity.Finance;
import com.zlt.system.entity.ReimTypeTab;
import com.zlt.system.util.DBUtil;

/**
 * 调用报销类型表信息的实现类
 * @author 米邓勇
 *
 */
public class ReimTypeTabDaoImpl extends CurrencyDaoImpl<ReimTypeTab> implements ReimTypeTabDao{
	/**
	 * 用于财务表修改不同类型，显示不同内容
	 * @author 冯杨
	 * @param  传入app_abb报销编号参数
	 * @return 返回一个查询到的集合
	 */
	@Override
	public List<Finance> FindByApp_abb(String app_abb) {
		// TODO Auto-generated method stub
		List<Finance> finance = new ArrayList<>();
		String sql = "SELECT * FROM finance WHERE app_abb LIKE ?";		
		try {
			finance = DBUtil.getQueryRunner().query(sql, new BeanListHandler<Finance>(Finance.class),"%"+app_abb+"%");
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return finance;
	}

	@Override
	public List<ReimTypeTab> FindByAll() {
		// TODO Auto-generated method stub
		List<ReimTypeTab> finance = new ArrayList<>();
		String sql="SELECT reim_abb FROM reimtypetab";
		try {
			finance=DBUtil.getQueryRunner().query(sql, new BeanListHandler<ReimTypeTab>(ReimTypeTab.class));
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return finance;
	}
}
